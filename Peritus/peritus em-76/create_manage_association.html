
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>PERITUS</title>
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/peritus_stylesheet.css" rel="stylesheet">
    <style type="text/css">
    .formAlign {
        display: inline-block !important;
        width: 39% !important;
    }
    
    .arrowmove {
        height: 40%;
        width: 50%;
    }
    
    .interchange {
        cursor: pointer;
    }
    </style>
    <script src="js/jquery.js"></script>
    <script type="text/javascript" src="js/RowSorter.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
</head>

<body><script id="__bs_script__">//<![CDATA[
    document.write("<script async src='/browser-sync/browser-sync-client.2.12.3.js'><\/script>".replace("HOST", location.hostname));
//]]></script>

    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 p-gray-bg">
                <div class="col-xs-3 col-sm-3 col-md-3"><img src="img/peritusLogo.jpg" style="width:184px;"></div>
                <div class="col-xs-9 col-sm-9 col-md-9">
                    <ul class="nav navbar-nav navbar-right p-right-adm">
                        <li>
                            <div class="round round-sm blue">
                                <span class="glyphicon glyphicon-user"></span>
                            </div>
                            Admin Name
                        </li>
                        <li><a href="#">Logout</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12">
                <div class="col-md-8 col-md-offset-2" style="margin-top:5%;">
                    <div class="col-xs-12 col-sm-12 col-md-12 p-bottom-border">
                        <div class="col-xs-12 col-sm-9 col-md-9">
                            <h4>Benfit Groups</h4>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-12 p-padding-none" style="margin:15px 0px;">
                        <h3 class="pull-right"><small><i>You can drag and drop the reorder rows</i></small></h3>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-12 table-responsive">
                        <table id="sample_table" class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>Group ID</th>
                                    <th>Icons</th>
                                    <th>Group Name</th>
                                    <th>Hex Color</th>
                                </tr>
                            </thead>
                            <tbody class="user-benfit-groups" style="cursor:move">
                                <tr class="groupRowTemplate hide">
                                    <td>
                                        <input type="checkbox">
                                    </td>
                                    <td class="s-no">1</td>
                                    <td><img src="http://placehold.it/30x30/D47119"></td>
                                    <td>
                                        <input type="text" class="group-type form-control formAlign" placeholder="Health"> <span class="glyphicon glyphicon-paperclip" aria-hidden="true"></span> <small><i> Click to be new benfit</i></small>
                                    </td>
                                    <td>
                                        <form>
                                            <div class="form-group">
                                                <input type="email" class="form-control " id="exampleInputEmail1" placeholder="">
                                            </div>
                                        </form>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <input type="checkbox">
                                    </td>
                                    <td class="s-no">1</td>
                                    <td><img src="http://placehold.it/30x30/D47119"></td>
                                    <td>
                                        <input type="text" class="form-control formAlign" placeholder="Health"> <span class="glyphicon glyphicon-paperclip" aria-hidden="true"></span> <small><i> Click to be new benfit</i></small>
                                    </td>
                                    <td>
                                        <form>
                                            <div class="form-group">
                                                <input type="email" class="form-control " id="exampleInputEmail1" placeholder="">
                                            </div>
                                        </form>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <input type="checkbox">
                                    </td>
                                    <td class="s-no">2</td>
                                    <td><img src="http://placehold.it/30x30/0F6705"></td>
                                    <td>
                                        <form>
                                            <div class="form-group">
                                                <input type="email" class="form-control formAlign" id="exampleInputEmail1" placeholder="Credit Cards"> <span class="glyphicon glyphicon-paperclip" aria-hidden="true"></span> <small><i> Click to be new benfit</i></small>
                                            </div>
                                        </form>
                                    </td>
                                    <td>
                                        <form>
                                            <div class="form-group">
                                                <input type="email" class="form-control" id="exampleInputEmail1" placeholder="">
                                            </div>
                                        </form>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <input type="checkbox">
                                    </td>
                                    <td class="s-no">3</td>
                                    <td><img src="http://placehold.it/30x30/031EEA"></td>
                                    <td>
                                        <form>
                                            <div class="form-group">
                                                <input type="email" class="form-control formAlign" id="exampleInputEmail1" placeholder="Insurance"> <span class="glyphicon glyphicon-paperclip" aria-hidden="true"></span> <small><i> Click to be new benfit</i></small>
                                            </div>
                                        </form>
                                    </td>
                                    <td>
                                        <form>
                                            <div class="form-group">
                                                <input type="email" class="form-control" id="exampleInputEmail1" placeholder="">
                                            </div>
                                        </form>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="clearfix"></div>
                    <div class="row">
                        <div class="text-center col-md-7 col-md-offset-3">
                            <div class="panel panel-default arrowmove">
                                <div class="interchange uparrow"><span class="glyphicon glyphicon-triangle-top "></span></div>
                                <div class="interchange downarrow"><span class="glyphicon glyphicon-triangle-bottom "></span></div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="col-xs-12 col-sm-12 col-md-12 table-responsive">
                        <table class="table table-striped table-bordered tableRow">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>Group Name</th>
                                </tr>
                            </thead>
                            <tbody class="benfit-groups">
                                <tr class="benfit-template hide">
                                    <td>
                                        <input type="checkbox">
                                    </td>
                                    <td>
                                        <form>
                                            <div class="form-group">
                                                <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Default">
                                            </div>
                                        </form>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <input type="checkbox">
                                    </td>
                                    <td>
                                        <form>
                                            <div class="form-group">
                                                <input type="text" class="form-control" id="exampleInputEmail1" placeholder="Traved">
                                            </div>
                                        </form>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <input type="checkbox">
                                    </td>
                                    <td>
                                        <form>
                                            <div class="form-group">
                                                <input type="text" class="form-control" id="exampleInputEmail1" placeholder="Hospital">
                                            </div>
                                        </form>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <input type="checkbox">
                                    </td>
                                    <td>
                                        <form>
                                            <div class="form-group">
                                                <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Default">
                                            </div>
                                        </form>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="row text-center">
                            <button type="button" class="btn btn-primary addNew"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add New</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 p-gray-bg-top">
            </div>
        </div>
    </div>
    </div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script type="text/javascript">
    var counter = 1;
    jQuery('.addNew').click(function(event) {
        event.preventDefault();
        counter++;
        var newRow = jQuery('<tr><td><input type="checkbox"></td><td><input type="email" class="form-control" id="exampleInputEmail1" placeholder="Insurance"></td></tr>');
        jQuery('table.tableRow').append(newRow);
    });
    </script>
    <script type="text/javascript">
    RowSorter("#sample_table");
    </script>
    <script type="text/javascript">
    (function($) {
        $(".interchange.uparrow").on("click", function(e) {
            e.preventDefault();
            $groupsInputs = $(".benfit-groups").find("input[type=checkbox]");
            //console.log($groupsInputs.length);
            var selectGroups = [];

            for (var i = 0; i < $groupsInputs.length; i++) {
                if ($($groupsInputs[i]).prop("checked")) {
                    var value = $($groupsInputs[i]).parent().siblings().find("input").prop("placeholder");
                    //console.log(value);
                    selectGroups[selectGroups.length] = value;
                    $($groupsInputs[i]).parent().parent().remove();
                    $($groupsInputs[i]).prop("checked", false);
                }
            };
            //console.log(selectGroups.join(","))

            if (selectGroups.length) {
                $rowLength = $(".user-benfit-groups").find("tr").length;
                for (var r in selectGroups) {
                    $row = $(".groupRowTemplate.hide").clone().removeClass("hide");
                    $($row).find("input.group-type").prop("placeholder", selectGroups[r]);
                    $($row).find(".s-no").text($rowLength);
                    $($row).appendTo(".user-benfit-groups");
                    $rowLength++;
                }
            }


            console.log($row);
        })

        $(".interchange.downarrow").on('click', function(e) {
            e.preventDefault();
            $groupsInputs = $(".user-benfit-groups").find("input[type=checkbox]");
            var selectGroups = [];

            for (var i = 0; i < $groupsInputs.length; i++) {
                if ($($groupsInputs[i]).prop("checked")) {
                    var value = $($groupsInputs[i]).parent().siblings().find("form").find("input.formAlign").prop("placeholder");
                    //console.log(value);
                    selectGroups[selectGroups.length] = value;
                    $($groupsInputs[i]).parent().parent().remove();
                }
            };
            console.log(selectGroups);
            if (selectGroups.length) {
                for (var r in selectGroups) {
                    $row = $(".benfit-template.hide").clone().removeClass("hide");
                    $($row).find("form input").prop("placeholder", selectGroups[r]);
                    $($row).appendTo(".benfit-groups");
                }
            }

            $userBenifits = $(".user-benfit-groups").find("tr");
            for(var i=0; i < $userBenifits.length; i++) {
              $($userBenifits[i]).find(".s-no").text(i);
            }

            console.log($groupsInputs.length)

        });
    })(jQuery)
    </script>
</body>

</html>
